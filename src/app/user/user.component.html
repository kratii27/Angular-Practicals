<style>
.sm{
    color: green;
}
.em{
    color: red;
}
.im{
    color: red;
}
</style>
<body>
<div align="center">
    <form (submit)="save()">

        <h1 *ngIf="!form.data.id">ADD USER</h1>
        <h1 *ngIf="form.data.id">UPDATE USER</h1>
        <h2 class="sm">{{form.successmsg}}</h2>
        <h2 class="em">{{form.errormsg}}</h2>
        <table>
            <tr><th></th><td><input type="hidden" name="id" [(ngModel)]="form.data.id"></td></tr>
            <tr>
                <th></th>
                <td *ngIf="form.data.imageId > 0 && form.data.id > 0"><img src="http://localhost:8080/User/profilePic/{{form.data.id}}" alt="profile" class="img" align="center"></td>
            </tr>
            <tr *ngIf="form.data.id > 0 && form.data.imageId == null">
                <th></th>
                <td>
                    <img src="https://img.freepik.com/premium-vector/user-profile-icon-flat-style-member-avatar-vector-illustration-isolated-background-human-permission-sign-business-concept_157943-15752.jpg?semt=ais_user_personalization&w=740&q=80" class="img">
                </td>
            </tr>
            <br>
            <tr>
                <th>first name</th>
                <td><input type="text" name="firstName" [(ngModel)]="form.data.firstName" placeholder="enter first name"></td>
                <td class="im">{{form.inputerror.firstName}}</td>
            </tr>
            <tr>
                <th>last name</th>
                <td><input type="text" name="lastName" [(ngModel)]="form.data.lastName" placeholder="enter last name"></td>
                <td class="im">{{form.inputerror.lastName}}</td>

            </tr>
            <tr>
                <th>login</th>
                <td><input type="text" name="login" [(ngModel)]="form.data.login" placeholder="enter login"></td>
                <td class="im">{{form.inputerror.login}}</td>

            </tr>
             <tr>
                <th>password</th>
                <td><input type="text" name="password" [(ngModel)]="form.data.password" placeholder="enter password"></td>
                <td class="im">{{form.inputerror.password}}</td>

            </tr>
             <tr>
                <th>dob</th>
                <td><input type="date" name="dob" [(ngModel)]="form.data.dob" placeholder="enter dob"></td>
                <td class="im">{{form.inputerror.dob}}</td>
            </tr>
            <tr>
                <th>Role</th>
                <td><select name="roleId" [(ngModel)]="form.data.roleId" style="width: 100%;">
                        <option [ngValue]="" value="undefined">{{'--------Select Role---------' }}</option>
                        <option *ngFor="let obj of form.preload" [value]="obj.key">{{obj.value}}</option>
                    </select>
                </td>
            </tr>

             <tr>
                <th *ngIf="form.data.id > 0">Update Image :</th>
                <th *ngIf="form.data.id == null">Upload Image :</th>
                <td><input type="file" name="imageId" (change)="onFileSelect($event)" accept="image/*">
                </td>
            </tr>
            
             <tr>
                <th></th>
                <td *ngIf="form.data.id"><input type="submit" value="update"></td>
                <td *ngIf="!form.data.id"><input type="submit" value="save"></td>
            </tr>
        </table>

    </form>

</div>
</body>